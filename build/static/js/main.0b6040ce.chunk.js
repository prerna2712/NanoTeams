(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{137:function(e,t){},146:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(28),o=a.n(l),i=(a(97),a(19)),s=a(9),u=a(10),m=a(16),d=a(153),b=a(42),p=a(43),f=a.n(p),E=(a(53),a(17)),h=E.a.textarea(n||(n=Object(m.a)(["\n    backgroud-color: white;\n    width: 20vw;\n    height: 100%;\n"]))),g=function(e){var t=Object(r.useState)(""),a=Object(u.a)(t,2),n=a[0],l=a[1];return c.a.createElement("header",{id:"home"},c.a.createElement(b.a,{type:"circle",bg:!0,color:"random"}),c.a.createElement("div",{className:"banner"},c.a.createElement("div",{className:"col"},c.a.createElement(f.a,{bottom:!0},c.a.createElement("h1",{className:"responsive-headline"},"Nano-Teams"),c.a.createElement("h3",null,"A video calling app. Create a room and share the link with your friend and connect realtime."),c.a.createElement("br",null),c.a.createElement("button",{className:"button",onClick:function(){var t=Object(d.a)();e.history.push("/room/".concat(t))}},"Create Room"),"or ",c.a.createElement("br",null),c.a.createElement(h,{className:"textBox",value:n,onChange:function(e){l(e.target.value)},placeholder:"Enter room ID"}),c.a.createElement("button",{className:"button",onClick:function(t){""!==n&&e.history.push("/room/".concat(n))}},"Join Room")))))},v=a(64),j=a(24),O=a(20);j.b.add(O.e,O.f,O.c,O.h,O.d,O.i,O.b,O.g,O.a);var w,N,y,k,x,C,I,S,R=a(84),D=a.n(R),T=a(25),L=a(85),A=a.n(L),P=E.a.div(w||(w=Object(m.a)(["\n  position: fixed;\n  background: #000000;\n  width: 100vw;\n  height: 93vh;\n"]))),B=E.a.video(N||(N=Object(m.a)(["\n  border-radius: 10px;\n  width: 100%;\n  overflow: hidden;\n  background: #000000;\n"]))),U=E.a.div(y||(y=Object(m.a)(["\n    // border: 1px solid black;\n    margin-top: 10px;\n"]))),G=E.a.textarea(k||(k=Object(m.a)(["\n    backgroud-color: white;\n    width: 20vw;\n    height: 100%;\n"]))),V=E.a.div(x||(x=Object(m.a)(["\n  background-color: #ADB5BD;\n  border-radius: 10px; \n  color: black;\n  border: 1px solid lightgray;\n  padding: 10px;\n  margin-right: 5px;\n  text-align: center;\n"]))),W=E.a.div(C||(C=Object(m.a)(["\n  backgroud-color: white;\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 10px;\n  overflow: hidden;\n"]))),q=Object(E.a)(W)(I||(I=Object(m.a)(["\n  justify-content: flex-start;\n"]))),F=E.a.div(S||(S=Object(m.a)(["\n  background-color: black;\n  color: white;\n  border-radius: 10px; \n  border: 1px solid lightgray;\n  padding: 10px;\n  margin-left: 5px;\n  text-align: center;\n"]))),z=function(e){var t,a,n=Object(r.useState)(!1),l=Object(u.a)(n,2),o=l[0],i=l[1],s=Object(r.useState)(!0),m=Object(u.a)(s,2),d=m[0],b=m[1],p=Object(r.useState)(),f=Object(u.a)(p,2),E=f[0],h=f[1],g=Object(r.useState)(!1),j=Object(u.a)(g,2),O=j[0],w=j[1],N=Object(r.useState)(""),y=Object(u.a)(N,2),k=y[0],x=y[1],C=Object(r.useState)([]),I=Object(u.a)(C,2),S=I[0],R=I[1],L=Object(r.useRef)(),z=Object(r.useRef)(),J=Object(r.useRef)(),_=Object(r.useRef)(),K=Object(r.useRef)(),M=Object(r.useRef)(),Z=Object(r.useRef)();function H(e){R((function(t){return[].concat(Object(v.a)(t),[{yours:!1,value:e.data}])}))}function Y(e){var t=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"}]});return t.onicecandidate=$,t.ontrack=te,t.onnegotiationneeded=function(){return function(e){J.current.createOffer().then((function(e){return J.current.setLocalDescription(e)})).then((function(){var t={target:e,caller:_.current.id,sdp:J.current.localDescription};_.current.emit("offer",t)})).catch((function(e){return console.log(e)}))}(e)},t}function $(e){if(e.candidate){var t={target:K.current,candidate:e.candidate};_.current.emit("ice-candidate",t)}}function Q(e){var t=new RTCIceCandidate(e);J.current.addIceCandidate(t).catch((function(e){return console.log(e)}))}function X(e){J.current=Y(),J.current.ondatachannel=function(e){Z.current=e.channel,Z.current.onmessage=H};var t=new RTCSessionDescription(e.sdp);J.current.setRemoteDescription(t).then((function(){M.current.getTracks().forEach((function(e){return J.current.addTrack(e,M.current)}))})).then((function(){return J.current.createAnswer()})).then((function(e){return J.current.setLocalDescription(e)})).then((function(){var t={target:e.caller,caller:_.current.id,sdp:J.current.localDescription};_.current.emit("answer",t)}))}function ee(e){var t=new RTCSessionDescription(e.sdp);J.current.setRemoteDescription(t).catch((function(e){return console.log(e)}))}function te(e){z.current.srcObject=e.streams[0]}return Object(r.useEffect)((function(){navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(t){h(t),L.current.srcObject=t,M.current=t,L.current.muted=!0,_.current=D.a.connect("/"),_.current.emit("join room",e.match.params.roomID),_.current.on("other user",(function(e){!function(e){J.current=Y(e),M.current.getTracks().forEach((function(e){return J.current.addTrack(e,M.current)})),Z.current=J.current.createDataChannel("sendChannel"),Z.current.onmessage=H}(e),K.current=e})),_.current.on("user joined",(function(e){K.current=e})),_.current.on("offer",X),_.current.on("answer",ee),_.current.on("ice-candidate",Q)}))}),[]),E&&(t=c.a.createElement("div",{className:"my-video"},c.a.createElement(B,{playsInline:!0,muted:!0,ref:L,autoPlay:!0}))),a=c.a.createElement("div",{className:"friend-video"},c.a.createElement(B,{playsInline:!0,ref:z,autoPlay:!0})),c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:O?"leftHide":"leftVis"},c.a.createElement(P,null,t,a),c.a.createElement("footer",{className:"footer page-footer footer-copyright font-small fixed-bottom text-center py-3 special-color pt-4"},c.a.createElement("div",{className:"call-action"},c.a.createElement("button",{className:"btn-circle",title:"copy URL",onClick:function(){A()(window.location.href)}},c.a.createElement(T.a,{icon:"clipboard"})),c.a.createElement("button",{onClick:function(){o?(i(!1),L.current.srcObject.getAudioTracks().forEach((function(e){return e.enabled=!e.enabled}))):(i(!0),L.current.srcObject.getAudioTracks().forEach((function(e){return e.enabled=!e.enabled})))},title:"audio",className:o?"btn-mute":"btn-unmute"},c.a.createElement(T.a,{icon:o?"microphone-slash":"microphone"})),c.a.createElement("button",{className:d?"btn-video-on":"btn-video-off",title:"video",onClick:function(){!d&&E?(b(!0),L.current.srcObject.getVideoTracks().forEach((function(e){return e.enabled=!e.enabled})),t=c.a.createElement("div",{className:"my-video"},c.a.createElement(B,{playsInline:!0,muted:o,ref:L,autoPlay:!0}))):d&&E&&(b(!1),L.current.srcObject.getVideoTracks().forEach((function(e){return e.enabled=!e.enabled})),t=c.a.createElement("div",{className:"my-video"},c.a.createElement(B,{playsInline:!0,muted:o,ref:L,autoPlay:!0})))}},c.a.createElement(T.a,{icon:d?"eye":"eye-slash"})),c.a.createElement("button",{title:"leave",className:"leave btn-circle",onClick:function(){_.current.destroy(),M.current.getVideoTracks()[0].enabled=!1,M.current.getAudioTracks()[0].enabled=!1,window.location.replace("/create")}},c.a.createElement(T.a,{icon:"phone-slash"})),c.a.createElement("button",{title:"chat",onClick:function(){w(!O)},className:"btn-circle"},c.a.createElement(T.a,{icon:"comment-alt"}))))),c.a.createElement("div",{className:O?"chatVis":"chatHide"},c.a.createElement("div",{className:"main__header"},c.a.createElement("h6",null,"In-call messages")),c.a.createElement("div",{className:"chat-area"},c.a.createElement(U,null,S.map((function(e,t){if(""!=e.value)return e.yours?(window.scrollTo(0,5e3),c.a.createElement(W,{key:t},c.a.createElement(V,null,e.value))):c.a.createElement(q,{key:t},c.a.createElement(F,null,e.value))})))),c.a.createElement("div",{className:"text-area"},c.a.createElement("div",null,c.a.createElement(G,{className:"textBox",value:k,onChange:function(e){x(e.target.value)},placeholder:"Enter msg here..."}),c.a.createElement("button",{className:"send",onClick:function(e){Z.current.send(k),R((function(e){return[].concat(Object(v.a)(e),[{yours:!0,value:k}])})),x("")}},c.a.createElement(T.a,{icon:"paper-plane"}))))))},J=a(86),_=(a(141),J.a.initializeApp({apiKey:"AIzaSyBNUbcDCW5z4zK_iDVvKe2Ck_FVtIDnu-Y",authDomain:"nano-teams.firebaseapp.com",projectId:"nano-teams",storageBucket:"nano-teams.appspot.com",messagingSenderId:"1041776053965",appId:"1:1041776053965:web:14f0b7fb4fedc44523a384",measurementId:"G-MZWCRZNZJC"})),K=_.auth(),M=c.a.createContext();function Z(){return Object(r.useContext)(M)}function H(e){var t=e.children,a=Object(r.useState)(),n=Object(u.a)(a,2),l=n[0],o=n[1],i=Object(r.useState)(!0),s=Object(u.a)(i,2),m=s[0],d=s[1];Object(r.useEffect)((function(){return K.onAuthStateChanged((function(e){o(e),d(!1)}))}),[]);var b={currentUser:l,login:function(e,t){return K.signInWithEmailAndPassword(e,t)},signup:function(e,t){return K.createUserWithEmailAndPassword(e,t)},logout:function(){return K.signOut()}};return c.a.createElement(M.Provider,{value:b},!m&&t)}var Y=a(29),$=a.n(Y),Q=a(44),X=a(152),ee=a(154),te=a(155),ae=a(151),ne=a(150),re=a(45),ce=a.n(re),le=a(46),oe=a.n(le),ie=a(47),se=a.n(ie);function ue(){var e=Object(r.useRef)(),t=Object(r.useRef)(),a=Z().login,n=Object(r.useState)(""),l=Object(u.a)(n,2),o=l[0],m=l[1],d=Object(r.useState)(!1),b=Object(u.a)(d,2),p=b[0],f=b[1],E=Object(s.g)();function h(){return(h=Object(Q.a)($.a.mark((function n(r){return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.prev=1,m(""),f(!0),n.next=6,a(e.current.value,t.current.value);case 6:E.push("/create"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),m("Failed to log in");case 12:f(!1);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))).apply(this,arguments)}return c.a.createElement("div",{className:"auth"},c.a.createElement(X.a,{className:"hero"},c.a.createElement(X.a.Item,null,c.a.createElement("img",{className:"d-block w-100",src:ce.a,alt:"First slide"})),c.a.createElement(X.a.Item,null,c.a.createElement("img",{className:"d-block w-100",src:oe.a,alt:"Second slide"})),c.a.createElement(X.a.Item,null,c.a.createElement("img",{className:"d-block w-100",src:se.a,alt:"Third slide"}))),c.a.createElement(ee.a,{className:"login-card"},c.a.createElement(ee.a.Body,null,c.a.createElement("h2",{className:"text-center mb-4 heading"},c.a.createElement("span",{className:"L"},"L"),"OGIN"),o&&c.a.createElement(te.a,{variant:"danger"},o),c.a.createElement(ae.a,{onSubmit:function(e){return h.apply(this,arguments)}},c.a.createElement(ae.a.Group,{id:"email"},c.a.createElement(ae.a.Label,null,"Email"),c.a.createElement(ae.a.Control,{type:"email",ref:e,required:!0})),c.a.createElement("br",null),c.a.createElement(ae.a.Group,{id:"password"},c.a.createElement(ae.a.Label,null,"Password"),c.a.createElement(ae.a.Control,{type:"password",ref:t,required:!0})),c.a.createElement("br",null),c.a.createElement(ne.a,{disabled:p,className:"w-100",type:"submit"},"Log In"),c.a.createElement("div",{className:"w-100 text-center mt-2"},"Need an account? ",c.a.createElement(i.b,{to:"/signup",className:"L"},"Sign Up"))))))}var me=a(90),de=["component"];function be(e){var t=e.component,a=Object(me.a)(e,de),n=Z().currentUser;return c.a.createElement(s.b,Object.assign({},a,{render:function(e){return n?c.a.createElement(t,e):c.a.createElement(s.a,{to:"/login"})}}))}function pe(){var e=Object(r.useRef)(),t=Object(r.useRef)(),a=Object(r.useRef)(),n=Z().signup,l=Object(r.useState)(""),o=Object(u.a)(l,2),m=o[0],d=o[1],b=Object(r.useState)(!1),p=Object(u.a)(b,2),f=p[0],E=p[1],h=Object(s.g)();function g(){return(g=Object(Q.a)($.a.mark((function r(c){return $.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c.preventDefault(),t.current.value===a.current.value){r.next=3;break}return r.abrupt("return",d("Passwords do not match"));case 3:return r.prev=3,d(""),E(!0),r.next=8,n(e.current.value,t.current.value);case 8:h.push("/"),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),d("Failed to create an account");case 14:E(!1);case 15:case"end":return r.stop()}}),r,null,[[3,11]])})))).apply(this,arguments)}return c.a.createElement("div",{className:"auth"},c.a.createElement(X.a,{className:"hero"},c.a.createElement(X.a.Item,null,c.a.createElement("img",{className:"d-block w-100",src:ce.a,alt:"First slide"})),c.a.createElement(X.a.Item,null,c.a.createElement("img",{className:"d-block w-100",src:oe.a,alt:"Second slide"})),c.a.createElement(X.a.Item,null,c.a.createElement("img",{className:"d-block w-100",src:se.a,alt:"Third slide"}))),c.a.createElement(ee.a,{className:"signup-card"},c.a.createElement(ee.a.Body,null,c.a.createElement("h2",{className:"text-center mb-4 heading"},c.a.createElement("span",{className:"L"},"S"),"IGNUP"),m&&c.a.createElement(te.a,{variant:"danger"},m),c.a.createElement(ae.a,{onSubmit:function(e){return g.apply(this,arguments)}},c.a.createElement(ae.a.Group,{id:"email"},c.a.createElement(ae.a.Label,null,"Email"),c.a.createElement(ae.a.Control,{type:"email",ref:e,required:!0})),c.a.createElement("br",null),c.a.createElement(ae.a.Group,{id:"password"},c.a.createElement(ae.a.Label,null,"Password"),c.a.createElement(ae.a.Control,{type:"password",ref:t,required:!0}),c.a.createElement("div",{style:{color:"gray"}},"*should be 8 char long and contain a num and special-symbol")),c.a.createElement("br",null),c.a.createElement(ae.a.Group,{id:"password-confirm"},c.a.createElement(ae.a.Label,null,"Confirm Password"),c.a.createElement(ae.a.Control,{type:"password",ref:a,required:!0})),c.a.createElement("br",null),c.a.createElement(ne.a,{disabled:f,className:"w-100",type:"submit"},"Sign Up")),c.a.createElement("div",{className:"w-100 text-center mt-2 "},"Already have an account? ",c.a.createElement(i.b,{to:"/login",className:"L"},"Log In")))))}var fe=function(e){return c.a.createElement("div",null,c.a.createElement("header",{id:"home"},c.a.createElement(b.a,{type:"circle",bg:!0,color:"random"}),c.a.createElement("div",{className:"banner"},c.a.createElement("div",{className:"col"},c.a.createElement(f.a,{bottom:!0},c.a.createElement("h1",{className:"responsive-headline"},"Nano-Teams"),c.a.createElement("h3",null,"A video calling app. Create a room and share the link with your friend and connect realtime."),c.a.createElement("br",null),c.a.createElement(i.b,{to:"/login",className:"link"},c.a.createElement("button",{className:"button-logs"},"Login")),c.a.createElement(i.b,{to:"/signup",className:"link"},c.a.createElement("button",{className:"button-logs btn-sgn"},"Signup")))))))};a(146);var Ee=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(i.a,null,c.a.createElement(H,null,c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/",exact:!0,component:fe}),c.a.createElement(s.b,{path:"/login",component:ue}),c.a.createElement(s.b,{path:"/signup",component:pe}),c.a.createElement(be,{exact:!0,path:"/create",component:g}),c.a.createElement(be,{path:"/room/:roomID",component:z})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},45:function(e,t,a){e.exports=a.p+"static/media/pic1.324ba523.png"},46:function(e,t,a){e.exports=a.p+"static/media/pic2.1d2d303f.png"},47:function(e,t,a){e.exports=a.p+"static/media/pic3.7c72e458.png"},92:function(e,t,a){e.exports=a(147)},97:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.0b6040ce.chunk.js.map